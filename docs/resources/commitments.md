---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "castai_commitments Resource - terraform-provider-castai"
subcategory: ""
description: |-
  Commitments represent cloud service provider reserved instances (Azure) and commited use discounts (GCP) that can be used by CAST AI autoscaler.
---

# castai_commitments (Resource)

Commitments represent cloud service provider reserved instances (Azure) and commited use discounts (GCP) that can be used by CAST AI autoscaler.

## Example Usage

```terraform
resource "castai_commitments" "gcp_test" {
  gcp_cuds_json = file("./cuds.json")
  commitment_configs = [
    {
      match_region   = "us-east4"
      match_type     = "COMPUTE_OPTIMIZED_C2D"
      match_name     = "test"
      prioritization = true
      allowed_usage  = 0.6
      status         = "Inactive"
      assignments = [
        {
          cluster_id = "cluster-id-1" # priority 1 cluster - prioritization is enabled
        },
        {
          cluster_id = "cluster-id-2" # priority 2 cluster - prioritization is enabled
        }
      ]
    }
  ]
}

resource "castai_commitments" "azure_test" {
  azure_reservations_csv = file("./reservations.csv")
  commitment_configs = [
    {
      match_region   = "eastus"
      match_type     = "Standard_D32as_v4"
      match_name     = "test-res-1"
      prioritization = false
      allowed_usage  = 0.9
      status         = "Active"
      assignments = [
        {
          cluster_id = "cluster-id-3"
        },
        {
          cluster_id = "cluster-id-4"
        }
      ]
    }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `azure_reservations_csv` (String) CSV file containing reservations exported from Azure.
- `commitment_configs` (List of Object) List of commitment configurations. (see [below for nested schema](#nestedatt--commitment_configs))
- `gcp_cuds_json` (String) JSON file containing CUDs exported from GCP.
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- `azure_reservations` (List of Object) List of Azure reservations. (see [below for nested schema](#nestedatt--azure_reservations))
- `gcp_cuds` (List of Object) List of GCP CUDs. (see [below for nested schema](#nestedatt--gcp_cuds))
- `id` (String) The ID of this resource.

<a id="nestedatt--commitment_configs"></a>
### Nested Schema for `commitment_configs`

Optional:

- `allowed_usage` (Number)
- `assignments` (List of Object) (see [below for nested schema](#nestedobjatt--commitment_configs--assignments))
- `match_name` (String)
- `match_region` (String)
- `match_type` (String)
- `prioritization` (Boolean)
- `status` (String)

<a id="nestedobjatt--commitment_configs--assignments"></a>
### Nested Schema for `commitment_configs.assignments`

Optional:

- `cluster_id` (String)



<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `update` (String)


<a id="nestedatt--azure_reservations"></a>
### Nested Schema for `azure_reservations`

Read-Only:

- `allowed_usage` (Number)
- `assignments` (List of Object) (see [below for nested schema](#nestedobjatt--azure_reservations--assignments))
- `count` (Number)
- `end_timestamp` (String)
- `id` (String)
- `instance_type` (String)
- `name` (String)
- `plan` (String)
- `prioritization` (Boolean)
- `region` (String)
- `reservation_id` (String)
- `reservation_status` (String)
- `scope` (String)
- `scope_resource_group` (String)
- `scope_subscription` (String)
- `start_timestamp` (String)
- `status` (String)

<a id="nestedobjatt--azure_reservations--assignments"></a>
### Nested Schema for `azure_reservations.assignments`

Read-Only:

- `cluster_id` (String)



<a id="nestedatt--gcp_cuds"></a>
### Nested Schema for `gcp_cuds`

Read-Only:

- `allowed_usage` (Number)
- `assignments` (List of Object) (see [below for nested schema](#nestedobjatt--gcp_cuds--assignments))
- `cpu` (Number)
- `cud_id` (String)
- `cud_status` (String)
- `end_timestamp` (String)
- `id` (String)
- `memory_mb` (Number)
- `name` (String)
- `plan` (String)
- `prioritization` (Boolean)
- `region` (String)
- `start_timestamp` (String)
- `status` (String)
- `type` (String)

<a id="nestedobjatt--gcp_cuds--assignments"></a>
### Nested Schema for `gcp_cuds.assignments`

Read-Only:

- `cluster_id` (String)


