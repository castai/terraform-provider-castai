---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "castai_hibernation_schedule Resource - terraform-provider-castai"
subcategory: ""
description: |-
  CAST AI hibernation schedule resource to manage hibernation schedules.
---

# castai_hibernation_schedule (Resource)

CAST AI hibernation schedule resource to manage hibernation schedules.

## Example Usage

```terraform
resource "castai_hibernation_schedule" "my_schedule" {
  name    = "workday"
  enabled = false

  pause_config {
    enabled = true

    schedule {
      cron_expression = "0 17 * * 1-5"
    }
  }

  resume_config {
    enabled = true

    schedule {
      cron_expression = "0 9 * * 1-5"
    }

    job_config {
      node_config {
        instance_type = "e2-standard-4"
      }
    }
  }

  cluster_assignments {
    assignment {
      cluster_id = "38a49ce8-e900-4a10-be89-48fb2efb1025"
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `enabled` (Boolean) Enables or disables the schedule.
- `name` (String) Name of the schedule.
- `pause_config` (Block List, Min: 1, Max: 1) (see [below for nested schema](#nestedblock--pause_config))
- `resume_config` (Block List, Min: 1, Max: 1) (see [below for nested schema](#nestedblock--resume_config))

### Optional

- `cluster_assignments` (Block List, Max: 1) (see [below for nested schema](#nestedblock--cluster_assignments))
- `organization_id` (String) ID of the organization. If not provided, then will attempt to infer it using CAST AI API client.
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--pause_config"></a>
### Nested Schema for `pause_config`

Required:

- `enabled` (Boolean) Enables or disables the pause configuration.
- `schedule` (Block List, Min: 1, Max: 1) (see [below for nested schema](#nestedblock--pause_config--schedule))

<a id="nestedblock--pause_config--schedule"></a>
### Nested Schema for `pause_config.schedule`

Required:

- `cron_expression` (String) Cron expression defining when the schedule should trigger.

  The `cron` expression can optionally include the `CRON_TZ` variable at the beginning to specify the timezone in which the schedule should be interpreted.

  Example:
  ```plaintext
  CRON_TZ=America/New_York 0 12 * * ?
  ```
  In the example above, the `CRON_TZ` variable is set to "America/New_York" indicating that the cron expression should be interpreted in the Eastern Time (ET) timezone.

  To retrieve a list of available timezone values, you can use the following API endpoint:

  GET https://api.cast.ai/v1/time-zones

  When using the `CRON_TZ` variable, ensure that the specified timezone is valid and supported by checking the list of available timezones from the API endpoint.  If the `CRON_TZ` variable is not specified, the cron expression will be interpreted in the UTC timezone.



<a id="nestedblock--resume_config"></a>
### Nested Schema for `resume_config`

Required:

- `enabled` (Boolean) Enables or disables the pause configuration.
- `job_config` (Block List, Min: 1, Max: 1) (see [below for nested schema](#nestedblock--resume_config--job_config))
- `schedule` (Block List, Min: 1, Max: 1) (see [below for nested schema](#nestedblock--resume_config--schedule))

<a id="nestedblock--resume_config--job_config"></a>
### Nested Schema for `resume_config.job_config`

Required:

- `node_config` (Block List, Min: 1, Max: 1) (see [below for nested schema](#nestedblock--resume_config--job_config--node_config))

<a id="nestedblock--resume_config--job_config--node_config"></a>
### Nested Schema for `resume_config.job_config.node_config`

Required:

- `instance_type` (String) Instance type.

Optional:

- `config_id` (String) ID reference of Node Configuration to be used for node creation. Supersedes 'config_name' parameter.
- `config_name` (String) Name reference of Node Configuration to be used for node creation. Superseded if 'config_id' parameter is provided.
- `gpu_config` (Block List, Max: 1) (see [below for nested schema](#nestedblock--resume_config--job_config--node_config--gpu_config))
- `kubernetes_labels` (Map of String) Custom labels to be added to the node.
- `kubernetes_taints` (Block List) Custom taints to be added to the node created from this configuration. (see [below for nested schema](#nestedblock--resume_config--job_config--node_config--kubernetes_taints))
- `node_affinity` (Block List) Custom taints to be added to the node created from this configuration. (see [below for nested schema](#nestedblock--resume_config--job_config--node_config--node_affinity))
- `spot_config` (Block List) Custom taints to be added to the node created from this configuration. (see [below for nested schema](#nestedblock--resume_config--job_config--node_config--spot_config))
- `subnet_id` (String) Node subnet ID.
- `volume` (Block List) (see [below for nested schema](#nestedblock--resume_config--job_config--node_config--volume))
- `zone` (String) Zone of the node.

<a id="nestedblock--resume_config--job_config--node_config--gpu_config"></a>
### Nested Schema for `resume_config.job_config.node_config.gpu_config`

Required:

- `count` (Number) Number of GPUs.

Optional:

- `type` (String) GPU type.


<a id="nestedblock--resume_config--job_config--node_config--kubernetes_taints"></a>
### Nested Schema for `resume_config.job_config.node_config.kubernetes_taints`

Required:

- `key` (String) Key of a taint to be added to nodes created from this template.

Optional:

- `effect` (String) Effect of a taint to be added to nodes created from this template, the default is NoSchedule. Allowed values: NoSchedule, NoExecute.
- `value` (String) Value of a taint to be added to nodes created from this template.


<a id="nestedblock--resume_config--job_config--node_config--node_affinity"></a>
### Nested Schema for `resume_config.job_config.node_config.node_affinity`

Required:

- `dedicated_group` (String) Key of a taint to be added to nodes created from this template.

Optional:

- `affinity` (Block List) (see [below for nested schema](#nestedblock--resume_config--job_config--node_config--node_affinity--affinity))

<a id="nestedblock--resume_config--job_config--node_config--node_affinity--affinity"></a>
### Nested Schema for `resume_config.job_config.node_config.node_affinity.affinity`

Required:

- `key` (String) Key of the node affinity selector.
- `operator` (String) Operator of the node affinity selector. Allowed values: DOES_NOT_EXIST, EXISTS, GT, IN, LT, NOT_IN.
- `values` (List of String) Values of the node affinity selector.



<a id="nestedblock--resume_config--job_config--node_config--spot_config"></a>
### Nested Schema for `resume_config.job_config.node_config.spot_config`

Optional:

- `price_hourly` (String) Spot instance price. Applicable only for AWS nodes.
- `spot` (Boolean) Whether node should be created as spot instance.


<a id="nestedblock--resume_config--job_config--node_config--volume"></a>
### Nested Schema for `resume_config.job_config.node_config.volume`

Optional:

- `raid_config` (Block List) (see [below for nested schema](#nestedblock--resume_config--job_config--node_config--volume--raid_config))
- `size_gib` (Number) Volume size in GiB.

<a id="nestedblock--resume_config--job_config--node_config--volume--raid_config"></a>
### Nested Schema for `resume_config.job_config.node_config.volume.raid_config`

Optional:

- `chunk_size_kb` (Number) Specify the RAID0 chunk size in kilobytes, this parameter affects the read/write in the disk array and must be tailored for the type of data written by the workloads in the node. If not provided it will default to 64KB





<a id="nestedblock--resume_config--schedule"></a>
### Nested Schema for `resume_config.schedule`

Required:

- `cron_expression` (String) Cron expression defining when the schedule should trigger.

  The `cron` expression can optionally include the `CRON_TZ` variable at the beginning to specify the timezone in which the schedule should be interpreted.

  Example:
  ```plaintext
  CRON_TZ=America/New_York 0 12 * * ?
  ```
  In the example above, the `CRON_TZ` variable is set to "America/New_York" indicating that the cron expression should be interpreted in the Eastern Time (ET) timezone.

  To retrieve a list of available timezone values, you can use the following API endpoint:

  GET https://api.cast.ai/v1/time-zones

  When using the `CRON_TZ` variable, ensure that the specified timezone is valid and supported by checking the list of available timezones from the API endpoint.  If the `CRON_TZ` variable is not specified, the cron expression will be interpreted in the UTC timezone.



<a id="nestedblock--cluster_assignments"></a>
### Nested Schema for `cluster_assignments`

Optional:

- `assignment` (Block List) (see [below for nested schema](#nestedblock--cluster_assignments--assignment))

<a id="nestedblock--cluster_assignments--assignment"></a>
### Nested Schema for `cluster_assignments.assignment`

Required:

- `cluster_id` (String) ID of the cluster.



<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `delete` (String)
- `read` (String)
- `update` (String)

## Import

Import is supported using the following syntax:

```shell
# Associate terraform resource "my_schedule" with a hibernation schedule named "workday".
# Will use the default organization ID, that is associated with the API token.
terraform import 'castai_hibernation_schedule.my_schedule' workday

# Importing via direct schedule ID is also possible.
# Will use the default organization ID, that is associated with the API token.
terraform import 'castai_hibernation_schedule.my_schedule' e5ee784d-2c4b-4820-ab4e-16e4b81534a4

# Import using organization ID and schedule name/ID in format <organization id>/<schedule id|schedule name>.
terraform import 'castai_hibernation_schedule.my_schedule' 63895dfe-dc8b-49b6-959c-3f3545de525a/workday
```
