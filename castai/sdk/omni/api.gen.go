// Package omni provides primitives to interact with the openapi HTTP API.
//
// Code generated by github.com/oapi-codegen/oapi-codegen/v2 version v2.4.1 DO NOT EDIT.
package omni

import (
	"encoding/json"
	"fmt"
	"time"
)

const (
	ApiKeyAuthScopes = "ApiKeyAuth.Scopes"
	BearerAuthScopes = "BearerAuth.Scopes"
)

// Defines values for ClusterProviderType.
const (
	EKS                     ClusterProviderType = "EKS"
	GKE                     ClusterProviderType = "GKE"
	PROVIDERTYPEUNSPECIFIED ClusterProviderType = "PROVIDER_TYPE_UNSPECIFIED"
)

// Defines values for ClusterState.
const (
	ClusterStateDELETED          ClusterState = "DELETED"
	ClusterStateENABLED          ClusterState = "ENABLED"
	ClusterStateFAILED           ClusterState = "FAILED"
	ClusterStateREADY            ClusterState = "READY"
	ClusterStateSTATEUNSPECIFIED ClusterState = "STATE_UNSPECIFIED"
	ClusterStateWARNING          ClusterState = "WARNING"
)

// Defines values for EdgeLocationState.
const (
	EdgeLocationStateDELETED           EdgeLocationState = "DELETED"
	EdgeLocationStateFAILED            EdgeLocationState = "FAILED"
	EdgeLocationStateINITIALIZING      EdgeLocationState = "INITIALIZING"
	EdgeLocationStateOFFBOARDING       EdgeLocationState = "OFFBOARDING"
	EdgeLocationStatePENDINGONBOARDING EdgeLocationState = "PENDING_ONBOARDING"
	EdgeLocationStateREADY             EdgeLocationState = "READY"
	EdgeLocationStateSTATEUNSPECIFIED  EdgeLocationState = "STATE_UNSPECIFIED"
)

// Defines values for ObjectStatusPhase.
const (
	CREATING         ObjectStatusPhase = "CREATING"
	DELETED          ObjectStatusPhase = "DELETED"
	DELETING         ObjectStatusPhase = "DELETING"
	FAILED           ObjectStatusPhase = "FAILED"
	PHASEUNSPECIFIED ObjectStatusPhase = "PHASE_UNSPECIFIED"
	READY            ObjectStatusPhase = "READY"
	UNKNOWN          ObjectStatusPhase = "UNKNOWN"
)

// AWSParam Message to represents AWS specific parameters.
type AWSParam struct {
	// AccountId The ID of the AWS account.
	AccountId *string `json:"accountId,omitempty"`

	// Credentials Credentials used to authenticate AWS API.
	Credentials *AWSParamCredentials `json:"credentials,omitempty"`

	// Networking The networking parameters.
	Networking *AWSParamAWSNetworking `json:"networking,omitempty"`
}

// AWSParamAWSNetworking The IDs of networking resources created during location onboarding.
//
//	Used by all the edges in the edge location.
type AWSParamAWSNetworking struct {
	// NameTag The value of a 'Name' tag applied to VPC resources.
	NameTag string `json:"nameTag"`

	// SecurityGroupId The id of the security group to be used in the selected region.
	SecurityGroupId string `json:"securityGroupId"`

	// SubnetIds A map of zone names to subnet IDs to be used in the selected region.
	SubnetIds map[string]string `json:"subnetIds"`

	// VpcId The id of the VPC to be used in the selected region.
	VpcId string `json:"vpcId"`
}

// AWSParamCredentials AWS credentials.
type AWSParamCredentials struct {
	// AccessKeyId Access key for the AWS account.
	AccessKeyId string `json:"accessKeyId"`

	// SecretAccessKey Secret key for the AWS account.
	SecretAccessKey string `json:"secretAccessKey"`
}

// Cluster Message to represent a cluster.
type Cluster struct {
	// CreateTime The creation timestamp.
	CreateTime *time.Time `json:"createTime,omitempty"`

	// DeleteTime The delete timestamp.
	DeleteTime *time.Time `json:"deleteTime,omitempty"`

	// Id The ID of the cluster.
	Id *string `json:"id,omitempty"`

	// Name Name of the cluster.
	Name *string `json:"name,omitempty"`

	// ProviderType The type of the cluster.
	ProviderType *ClusterProviderType `json:"providerType,omitempty"`

	// ServiceAccountId The service account ID is Cast AI service account associated with OMNI operations.
	ServiceAccountId *string `json:"serviceAccountId,omitempty"`

	// State The state of the cluster on API level.
	State *ClusterState `json:"state,omitempty"`

	// Status Status of the cluster with details from agent/client side.
	Status *ObjectStatus `json:"status,omitempty"`

	// UpdateTime The last update timestamp.
	UpdateTime *time.Time `json:"updateTime,omitempty"`
}

// ClusterProviderType The type of the cluster.
type ClusterProviderType string

// ClusterState The state of the cluster on API level.
type ClusterState string

// Condition Condition represents the status of the object.
type Condition struct {
	// LastTransitionTime Last transition time of the condition.
	LastTransitionTime *time.Time `json:"lastTransitionTime,omitempty"`

	// Message Message for the condition.
	Message *string `json:"message,omitempty"`

	// Reason Reason for the condition.
	Reason *string `json:"reason,omitempty"`

	// Severity Severity of the condition.
	Severity *string `json:"severity,omitempty"`

	// Status Status of the condition.
	Status *string `json:"status,omitempty"`

	// Type Type of the condition.
	Type *string `json:"type,omitempty"`
}

// EdgeLocation Message to represent edge location.
type EdgeLocation struct {
	// Aws AWS specific parameters.
	Aws *AWSParam `json:"aws,omitempty"`

	// CloudResourceId Name used to create/tag cloud resources.
	CloudResourceId *string `json:"cloudResourceId,omitempty"`

	// CreateTime The creation timestamp.
	CreateTime *time.Time `json:"createTime,omitempty"`

	// DeleteTime The deletion timestamp.
	DeleteTime *time.Time `json:"deleteTime,omitempty"`

	// Description The description of the edge location.
	Description *string `json:"description,omitempty"`

	// Error If state if failed, this field will contain the error message.
	Error *string `json:"error,omitempty"`

	// Gcp Google Cloud specific parameters.
	Gcp *GCPParam `json:"gcp,omitempty"`

	// Id The ID of the edge location.
	Id *string `json:"id,omitempty"`

	// Name The name of the edge location.
	//  Name must be quote short as we are creating service accounts with this name,
	//  and GCP has a limit of 30 characters for service account names.
	Name string `json:"name"`

	// Oci OCI cloud parameters.
	Oci *OCIParam `json:"oci,omitempty"`

	// Region The region of edge location.
	Region string `json:"region"`

	// State The state of the edge location on API level.
	State *EdgeLocationState `json:"state,omitempty"`

	// TotalEdgeCount Total amount of edges in a given edge location.
	TotalEdgeCount *uint32 `json:"totalEdgeCount,omitempty"`

	// UpdateTime The last update timestamp.
	UpdateTime *time.Time `json:"updateTime,omitempty"`

	// Zones The zones of edge location.
	Zones *[]Zone `json:"zones,omitempty"`
}

// EdgeLocationState The state of the edge location on API level.
type EdgeLocationState string

// EdgeLocationUpdate Message to update an edge locations credentials and networking resources.
type EdgeLocationUpdate struct {
	// Aws AWS specific parameters.
	Aws *AWSParam `json:"aws,omitempty"`

	// Description The description of the edge location.
	Description *string `json:"description,omitempty"`

	// Gcp Google Cloud specific parameters.
	Gcp *GCPParam `json:"gcp,omitempty"`

	// Oci OCI specific parameters.
	Oci *OCIParam `json:"oci,omitempty"`

	// Zones The zones of edge location.
	Zones *[]Zone `json:"zones,omitempty"`
}

// GCPParam Message to represents Google Cloud specific parameters.
type GCPParam struct {
	// Credentials Credentials used to authenticate GCP API.
	Credentials *GCPParamCredentials `json:"credentials,omitempty"`

	// InstanceServiceAccount The GCP service account email to be mounted by default in the edge nodes created in this location.
	//  To transparently pull images from the GCP artifact registry, the service account must have
	//  at least the roles/artifactregistry.reader role assigned.
	InstanceServiceAccount *string `json:"instanceServiceAccount,omitempty"`

	// Networking The networking parameters. Created during location onboarding.
	Networking *GCPParamGCPNetworking `json:"networking,omitempty"`

	// ProjectId GCP project ID where edges run.
	ProjectId string `json:"projectId"`
}

// GCPParamCredentials GCP credentials.
type GCPParamCredentials struct {
	// ClientServiceAccountJsonBase64 Client service account json to be used to provision edge resources.
	ClientServiceAccountJsonBase64 string `json:"clientServiceAccountJsonBase64"`
}

// GCPParamGCPNetworking The names of networking resources created during location onboarding.
//
//	Used by all the edges in the edge location.
type GCPParamGCPNetworking struct {
	// NetworkName The name of the network to be used in the selected region.
	NetworkName string `json:"networkName"`

	// SubnetName The name of the subnetwork to be used in the selected region.
	SubnetName string `json:"subnetName"`

	// Tags Tags applied on the provisioned cloud resources and the firewall rule.
	Tags []string `json:"tags"`
}

// GoogleProtobufAny Contains an arbitrary serialized message along with a @type that describes the type of the serialized message.
type GoogleProtobufAny struct {
	// Type The type of the serialized message.
	Type                 *string                `json:"@type,omitempty"`
	AdditionalProperties map[string]interface{} `json:"-"`
}

// ListClustersResponse Message of the response to list clusters.
type ListClustersResponse struct {
	// Items The list of clusters.
	Items *[]Cluster `json:"items,omitempty"`

	// NextPageCursor The pagination cursor to retrieve the next page of omni clusters.
	NextPageCursor *string `json:"nextPageCursor,omitempty"`

	// TotalCount The total number of items.
	TotalCount *int32 `json:"totalCount,omitempty"`
}

// ListEdgeLocationsResponse Message of the response to list edge locations.
type ListEdgeLocationsResponse struct {
	// Items The list of edge locations.
	Items *[]EdgeLocation `json:"items,omitempty"`

	// NextPageCursor The pagination cursor to retrieve the next page of edge locations.
	NextPageCursor *string `json:"nextPageCursor,omitempty"`

	// TotalCount The total number of items.
	TotalCount *int32 `json:"totalCount,omitempty"`
}

// OCIParam Message that represents OCI location specific parameters.
type OCIParam struct {
	// CompartmentId OCI compartment id of edge location.
	CompartmentId *string `json:"compartmentId,omitempty"`

	// Credentials Credentials used to authenticate OCI API.
	Credentials *OCIParamCredentials `json:"credentials,omitempty"`

	// Networking Networking configuration.
	Networking *OCIParamNetworking `json:"networking,omitempty"`

	// TenancyId OCI tenancy id of the account.
	TenancyId *string `json:"tenancyId,omitempty"`
}

// OCIParamCredentials OCI credentials.
type OCIParamCredentials struct {
	// Fingerprint API key fingerprint;
	Fingerprint string `json:"fingerprint"`

	// PrivateKeyBase64 API private key.
	PrivateKeyBase64 string `json:"privateKeyBase64"`

	// UserId User id used to authenticate OCI.
	UserId string `json:"userId"`
}

// OCIParamNetworking Networking configuration of OCI edge location.
type OCIParamNetworking struct {
	// SubnetId OCI subnet id of edge location.
	SubnetId string `json:"subnetId"`

	// VcnId OCI virtual cloud network id of edge location.
	VcnId string `json:"vcnId"`
}

// ObjectStatus ObjectStatus of the object.
type ObjectStatus struct {
	// Conditions The conditions of the objet with details.
	Conditions []Condition `json:"conditions"`

	// LastProbeTime The last probe report time.
	LastProbeTime *time.Time `json:"lastProbeTime,omitempty"`

	// Phase Phase of an object.
	Phase *ObjectStatusPhase `json:"phase,omitempty"`
}

// ObjectStatusPhase Phase of an object.
type ObjectStatusPhase string

// OffboardEdgeLocationResponse Message of the response to offboard edge location.
type OffboardEdgeLocationResponse struct {
	// Script The script to be executed to offboard the cluster.
	Script *string `json:"script,omitempty"`
}

// OnboardClusterResponse Message of the response to onboard cluster.
type OnboardClusterResponse struct {
	// Script The script to be executed to onboard the cluster.
	Script *string `json:"script,omitempty"`
}

// OnboardEdgeLocationResponse Message of the response to onboard edge location.
type OnboardEdgeLocationResponse struct {
	// Script The script to be executed to onboard the cluster.
	Script *string `json:"script,omitempty"`
}

// RegisterClusterResponse Response message of register cluster.
type RegisterClusterResponse = map[string]interface{}

// ReportStatusRequest Message to submit object status.
type ReportStatusRequest struct {
	// Cluster The status of the cluster.
	Cluster *ReportStatusRequestCluster `json:"cluster,omitempty"`

	// Edge The status of the edge.
	Edge *ReportStatusRequestEdge `json:"edge,omitempty"`

	// Id The ID of the cluster.
	Id string `json:"id"`

	// OrganizationId The ID of the Organization.
	OrganizationId string `json:"organizationId"`
}

// ReportStatusRequestCluster Cluster object.
type ReportStatusRequestCluster struct {
	// ExternalCidr The external CIDR.
	ExternalCidr *string `json:"externalCidr,omitempty"`

	// PodCidr The pod CIDR.
	PodCidr *string `json:"podCidr,omitempty"`

	// Status The status of the cluster.
	Status *ObjectStatus `json:"status,omitempty"`
}

// ReportStatusRequestEdge Edge object.
type ReportStatusRequestEdge struct {
	// Id The ID of the edge.
	Id string `json:"id"`

	// Status The status of the edge.
	Status *ObjectStatus `json:"status,omitempty"`
}

// ReportStatusResponse Response message for ReportStatusResponse.
type ReportStatusResponse = map[string]interface{}

// Status The `Status` type defines a logical error model that is suitable for different programming environments, including REST APIs and RPC APIs. It is used by [gRPC](https://github.com/grpc). Each `Status` message contains three pieces of data: error code, error message, and error details. You can find out more about this error model and how to work with it in the [API Design Guide](https://cloud.google.com/apis/design/errors).
type Status struct {
	// Code The status code, which should be an enum value of [google.rpc.Code][google.rpc.Code].
	Code *int32 `json:"code,omitempty"`

	// Details A list of messages that carry the error details.  There is a common set of message types for APIs to use.
	Details *[]GoogleProtobufAny `json:"details,omitempty"`

	// Message A developer-facing error message, which should be in English. Any user-facing error message should be localized and sent in the [google.rpc.Status.details][google.rpc.Status.details] field, or localized by the client.
	Message *string `json:"message,omitempty"`
}

// Zone Zone represents the zone of the edge location.
type Zone struct {
	// Id The ID of the zone.
	Id *string `json:"id,omitempty"`

	// Name The name of the zone.
	Name *string `json:"name,omitempty"`
}

// ClustersAPIListClustersParams defines parameters for ClustersAPIListClusters.
type ClustersAPIListClustersParams struct {
	// PageLimit Defines the number of items that should be returned
	PageLimit *string `form:"page.limit,omitempty" json:"page.limit,omitempty"`

	// PageCursor Cursor that defines token indicating where to start the next page.
	//  Empty value indicates to start from beginning of the dataset.
	PageCursor *string `form:"page.cursor,omitempty" json:"page.cursor,omitempty"`
}

// EdgeLocationsAPIListEdgeLocationsParams defines parameters for EdgeLocationsAPIListEdgeLocations.
type EdgeLocationsAPIListEdgeLocationsParams struct {
	// PageLimit Defines the number of items that should be returned
	PageLimit *string `form:"page.limit,omitempty" json:"page.limit,omitempty"`

	// PageCursor Cursor that defines token indicating where to start the next page.
	//  Empty value indicates to start from beginning of the dataset.
	PageCursor *string `form:"page.cursor,omitempty" json:"page.cursor,omitempty"`
}

// EdgeLocationsAPIUpdateEdgeLocationParams defines parameters for EdgeLocationsAPIUpdateEdgeLocation.
type EdgeLocationsAPIUpdateEdgeLocationParams struct {
	// UpdateMask The list of fields to be updated.
	UpdateMask *string `form:"updateMask,omitempty" json:"updateMask,omitempty"`
}

// EdgeLocationsAPICreateEdgeLocationJSONRequestBody defines body for EdgeLocationsAPICreateEdgeLocation for application/json ContentType.
type EdgeLocationsAPICreateEdgeLocationJSONRequestBody = EdgeLocation

// EdgeLocationsAPIUpdateEdgeLocationJSONRequestBody defines body for EdgeLocationsAPIUpdateEdgeLocation for application/json ContentType.
type EdgeLocationsAPIUpdateEdgeLocationJSONRequestBody = EdgeLocationUpdate

// ClustersAPIReportStatusJSONRequestBody defines body for ClustersAPIReportStatus for application/json ContentType.
type ClustersAPIReportStatusJSONRequestBody = ReportStatusRequest

// Getter for additional properties for GoogleProtobufAny. Returns the specified
// element and whether it was found
func (a GoogleProtobufAny) Get(fieldName string) (value interface{}, found bool) {
	if a.AdditionalProperties != nil {
		value, found = a.AdditionalProperties[fieldName]
	}
	return
}

// Setter for additional properties for GoogleProtobufAny
func (a *GoogleProtobufAny) Set(fieldName string, value interface{}) {
	if a.AdditionalProperties == nil {
		a.AdditionalProperties = make(map[string]interface{})
	}
	a.AdditionalProperties[fieldName] = value
}

// Override default JSON handling for GoogleProtobufAny to handle AdditionalProperties
func (a *GoogleProtobufAny) UnmarshalJSON(b []byte) error {
	object := make(map[string]json.RawMessage)
	err := json.Unmarshal(b, &object)
	if err != nil {
		return err
	}

	if raw, found := object["@type"]; found {
		err = json.Unmarshal(raw, &a.Type)
		if err != nil {
			return fmt.Errorf("error reading '@type': %w", err)
		}
		delete(object, "@type")
	}

	if len(object) != 0 {
		a.AdditionalProperties = make(map[string]interface{})
		for fieldName, fieldBuf := range object {
			var fieldVal interface{}
			err := json.Unmarshal(fieldBuf, &fieldVal)
			if err != nil {
				return fmt.Errorf("error unmarshaling field %s: %w", fieldName, err)
			}
			a.AdditionalProperties[fieldName] = fieldVal
		}
	}
	return nil
}

// Override default JSON handling for GoogleProtobufAny to handle AdditionalProperties
func (a GoogleProtobufAny) MarshalJSON() ([]byte, error) {
	var err error
	object := make(map[string]json.RawMessage)

	if a.Type != nil {
		object["@type"], err = json.Marshal(a.Type)
		if err != nil {
			return nil, fmt.Errorf("error marshaling '@type': %w", err)
		}
	}

	for fieldName, field := range a.AdditionalProperties {
		object[fieldName], err = json.Marshal(field)
		if err != nil {
			return nil, fmt.Errorf("error marshaling '%s': %w", fieldName, err)
		}
	}
	return json.Marshal(object)
}
